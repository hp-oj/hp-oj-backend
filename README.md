# Sa-Token-Vue3 模板

我们在做项目时，通常会为复杂的项目配置而头痛。因此我总结了以往开发中常用的配置，整合成一整个模板库，包含前端框架从Vue到React，各种常用组件库和工具库等；后端使用SpringBoot单体架构，并合理规划目录，项目技术栈包含SaToken、MyBatisPlus、Redis等，提供了基础的鉴权和角色控制的功能。

## 前端

### 1、介绍

项目是一个**清新优雅、高颜值、适配移动端的后台管理模板**，基于**最新的前端技术栈**，包括 Vue3, Vite5, TypeScript, Pinia 和 Ant Design Vue。它项目内集成了包含**国际化、多颜色主题、暗黑模式和部分常用组件**，**代码规范严谨**。本项目是一个**简洁易懂、无需额外配置，开箱即用**的实用模板。

### 2、特性

- **前沿技术应用**：采用 Vue3, Vite5, TypeScript, Pinia 和 Ant Design Vue等最新流行的技术栈。
- **清晰的项目架构**：采用流行Vue项目目录结构，结构清晰，优雅易懂。
- **严格的代码规范**：遵循规范，集成了eslint、prettier、husky等，保证代码的规范性和提交信息的规范性。
- **TypeScript**： 支持严格的类型检查，提高代码的可维护性。
- **丰富的主题配置**：内置多样的主题配置，与 Ant Design Vue完美结合。
- **内置国际化方案**：轻松实现多语言支持。
- **自动化请求接口**：自动生成接口定义、类型等。
- **灵活的权限路由**：支持前端静态路由权限控制。
- **丰富的页面组件**：内置多样页面和组件，包括403、404页面，以及布局组件、标签组件、主题配置组件等。
- **移动端适配**：完美支持移动端，实现自适应布局。

### 3、使用

1. 克隆仓库

```shell
git clone https://github.com/Healwrap/templates.git
```

2. 进入前端目录

```shell
cd front
```

3. 使用pnpm安装依赖

```shell
pnpm i
```

4. 启动后端，这里忽略，因为需要后端的swagger文档和鉴权接口

5. 生成openapi接口定义

```shell
pnpm run openapi-ts
```

6. 启动项目

```
pnpm run dev
```

7. 使用项目默认端口5173访问

### 4、界面截图



![image-20240607211224055](https://picgo-img-repo.oss-cn-beijing.aliyuncs.com/img/fe527503fa4935e2686902f62be8ff5a.png)

![](https://picgo-img-repo.oss-cn-beijing.aliyuncs.com/img/530a6e3275bc2784290b2d0e24a97c5a.png)

## 后端

### 1、介绍

常见的后端模板中，冗余代码很多，代码逻辑复杂，且难懂，同时有些使用较老的技术栈，并不利于我们修改项目。

于是写了一个内置功能只有鉴权和用户管理的后端模板，一般开发中鉴权和用户管理肯定是少不了的，同时项目配置好了开发时需要的各种工具类，实现开箱即用而不臃肿。

此项目是使用JDK11 + SpringBoot 2.5.14 + SaToken + MyBatisPlus 3.4.3 + Spring Validation的一个简单的模板（注意各依赖版本需对应，否则出现报错）

### 2、特性

- **内置最基础功能**：内置的功能只有最基础鉴权和用户管理功能，其他功能可由开发者自行拓展。
- **集成参数校验注解**：使用Spring Validation即可轻松实现实体类参数校验。可用于前端传参，系统内函数调用传参等。
- **配置人性化的返回类和异常类**：使用R作为返回类名，自定义BusinessException异常类，使用ThrowUtils工具类轻松抛出异常。
- **配置多种文件上传方式**：使用工厂模式+代理模式实现对多种文件上传方式进行管理，实现了代码的简洁化。同时在各上传工具类内部初始化OSS对象而不是全局注册Bean的方式暴露出去，增加了代码安全性（这里使用到了Spring Bean生命周期的PostConstruct注解）。
- **鉴权和角色控制**：使用SaToken框架，使用Cookie整合Redis，进行登录验证。并实现简单角色控制。
- **完整的异常处理器**：针对Restful API 请求异常，支持对鉴权异常、键值重复异常、业务异常、参数校验异常进行处理；针对常规请求，如网页请求，自定义了错误处理页。
- **轻松的验证码校验**：使用kaptcha生成验证码，并使用了自定义验证码校验注解，实现一行注解轻松校验验证码。

### 3、使用

1. 本机上应有mysql + redis，并创建一个数据库，其中需要至少一个数据库表名为sys_user
2. 修改application.yml中的数据库连接信息
3. 修改application.yml的oss配置信息，如不需要上传文件功能，可将common/upload 目录下的FileUploadFactory的@Component注解注释掉即可。
4. 启动项目，访问http://localhost:8081/
